<ion-app>
  <ion-header>
    <ion-toolbar class="custom-toolbar" color="warning">
      <ion-buttons slot="start">
        <ion-button [routerLink]="['../perfil']">
          <ion-icon name="arrow-back"></ion-icon>
        </ion-button>
      </ion-buttons>
      <div class="logo-container">
        <img id="img" class="small-logo" src="../../assets/icon/caja_vecina_logo.png" alt="caja_vecina_logo">
      </div>
    </ion-toolbar>
  </ion-header>

  <ion-content>
    <form [formGroup]="usernameForm" (ngSubmit)="onSubmit()">
      <ion-list>
        <ion-item>
          <ion-label position="floating">Nombre nuevo</ion-label>
          <ion-input type="text" formControlName="newUsername"></ion-input>
        </ion-item>
        <ion-note *ngIf="usernameForm.get('newUsername')?.invalid && usernameForm.get('newUsername')?.touched" color="danger">
          El nombre nuevo es obligatorio.
        </ion-note>

        <ion-item>
          <ion-label position="floating">Contraseña actual</ion-label>
          <ion-input type="password" formControlName="currentPassword"></ion-input>
        </ion-item>
        <ion-note *ngIf="usernameForm.get('currentPassword')?.invalid && usernameForm.get('currentPassword')?.touched" color="danger">
          La contraseña actual es obligatoria.
        </ion-note>
      </ion-list>

      <div class="button-container">
        <ion-button expand="block" color="warning" type="submit" [disabled]="usernameForm.invalid">Cambiar</ion-button>
        <ion-button expand="block" color="medium" type="button" (click)="Limpiar()">Limpiar</ion-button>
      </div>
    </form>
  </ion-content>
</ion-app>
